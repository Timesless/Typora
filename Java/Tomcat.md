### 网络基础

#### OSI 7层与TCP/IP4层

| OSI 七层模型                         | TCP/IP模型 | 相关协议                |
| ------------------------------------ | ---------- | ----------------------- |
| 应用层（为应用程序提供网络服务）     |            | HTTP，FTP，SMTP         |
| 表示层（数据格式化、加解密）         |            | Telnet                  |
| 会话层（建立、维护、管理会话）       | 应用层     | DNS，SMTP               |
| 传输层（建立、维护、管理端到端连接） | 传输层     | TCP，UDP                |
| 网络层（IP寻址，路由选择）           | 网络层     | IP，ARP，RARP           |
| 数据链路层（控制网络层与物理层通信） |            | Ethernet                |
| 物理层（传输比特流）                 | 数据链路层 | IEEE 802.1A，IEEE 802.2 |



+ 物理层：

通过光缆，电缆，无线电波将设备连接

两个不同局域网通信（移动、电信），需要ISP互联网服务商的物理连接

作用：传输比特流



+ 数据链路层

作用：根据以太网协议将一组电信号组成一个数据包，称作“帧”

数据包：head（标明数据发送者，接收者，数据类型）；data



+ 网络层

作用：建立主机 - 主机的连接

子网掩码：通过and运算判断是否在同一子网下（ip & 255.255.255.0）

路由：

​	作用：通过网络把数据从源地址到目标地址，引导分组传送，经过中间节点，到达目的地

==路由器：连接多个网络并实现路由功能的机器（可看作多个网卡的电脑，让网卡接入不同网络）==

网关：网络层使用的路由器，通常指路由器的IP

ARP协议：

​	作用： 局域网内IP和MAC地址对应关系

​	介于数据链路层和网络层之间

​	仅限于IPV4，IPV6用Neighbor Discvoery Protocol



+ 传输层

作用：==建立端口 - 端口间的连接==

port：

​	取值0 - 65535（0 - 1023系统占用，http 80，https 443）

​	指定IP包具体給哪个进程，另外，一个进程可能与多个计算机连接会有多个端口

socket：

​	本质：对TCP/IP协议封装的API（感觉对传输层协议封装更贴切）

​	格式：无符号整型变量，用来表示一个通信进程

​	进程间通信：需要双方IP，端口号，通信采用的协议栈

UDP/TCP协议：

​	作用：在数据包加上端口号

​	TCP：一对一面向连接。复杂，稳定，丢包重发

​	UDP：多播协议，面向无连接。简单，不稳定，不确定对方是否成功接收



+ 应用层

作用：规定应用程序的数据格式，如FTP，网页，SMTP的数据格式

是OSI最高3层的合并，面向用户